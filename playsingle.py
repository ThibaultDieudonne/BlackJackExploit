import sys
import os
from blackjack import *

def run(cards, deck, bet, after_dealt = True):
    '''run specific hand simulation. Hand format: [player_card1, ..., dealer_card]'''
    cnames = ['A', '2', '3', '4', '5', '6', '7', '8', '9', 'T']
    _deck = deck
    calc = FastEval(cards, _deck, after_dealt, 20, True, len(cards))
    ev = calc.ev(calc.cards, calc.deck, evd(score(calc.cards), calc.ddib, 0))
    return '    '.join(['{}: {}'.format(action, round(value * bet, 2)) for action, value in ev.items()])

if __name__ == '__main__':
    if len(sys.argv) > 1:
        cards = [_ for _ in map(int, sys.argv[1:])]
    else:
        cards = [0, 0, 0]
    print(run(cards, [32, 32, 32, 32, 32, 32, 32, 32, 32, 128], 1, False))
    os.system("pause>nul")