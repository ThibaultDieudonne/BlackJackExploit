import sys
from blackjack import FastEval, evd, score

def run(cards, deck, after_dealt = True):
    '''run specific hand simulation. Hand format: [player_card1, ..., dealer_card]'''
    _deck = deck
    calc = FastEval(cards, _deck, after_dealt, 20, True, len(cards))
    expval = calc.expval(calc.cards, calc.deck, evd(score(calc.cards), calc.ddib, 0))
    return expval

if __name__ == '__main__':
    if len(sys.argv) > 1:
        cards = [_ for _ in map(int, sys.argv[1:])]
    else:
        cards = [0, 0, 0]
    result = run(cards, [32, 32, 32, 32, 32, 32, 32, 32, 32, 128], False)
    print('    '.join(['{}: {}'.format(action, round(value, 2)) for action, value in result.items()]))
