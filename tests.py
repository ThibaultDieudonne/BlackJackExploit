import unittest

import playsingle
import runwild

class TestModules(unittest.TestCase):

    def test_runwild_1(self):
        res = runwild.run([32 for i in range(9)] + [128])
        self.assertEqual(res, -0.680997)
    
    def test_runwild_2(self):
        res = runwild.run([16, 12, 13, 15, 18, 21, 15, 11, 24, 122])
        self.assertEqual(res, 5.826334)
    
    def test_runwild_3(self):
        res = runwild.run([4, 3, 2, 4, 3, 2, 4, 3, 2, 0])
        self.assertEqual(res, 5.238256)
        
    def test_playsingle_1(self):
        res = playsingle.run([0, 0, 5],
                             [16, 12, 13, 15, 18, 21, 15, 11, 24, 122],
                             after_dealt = True)
        self.assertEqual(res, {'Stand': 0.09322864416186416,
                               'Hit': 0.28874668925351665,
                               'Double': 0.5056726185543899,
                               'Split': 1.2268449670485102})
        
    def test_playsingle_2(self):
        res = playsingle.run([0, 1, 3, 4], [16 for i in range(9)] + [64])
        self.assertEqual(res, {'Stand': -0.6342888941439666,
                               'Hit': 0.018071569191325083})
        
    def test_playsingle_2(self):
        res = playsingle.run([4, 4, 2, 8], [4, 3, 2, 4, 3, 2, 4, 3, 2, 0])
        self.assertEqual(res, {'Hit': 0.018071569191325083,
                               'Stand': -0.6342888941439666})


if __name__ == '__main__':
    unittest.main()